<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TornadoAI — Chat / Feed</title>
<style>
  :root{--bg:#0b0f14;--fg:#e8eef6;--muted:#9db0c8;--panel:#0e1420;--border:#1a2636;--accent:#5fb3ff}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial}
  header#tabs{display:flex;gap:10px;padding:10px 12px;border-bottom:1px solid var(--border);position:sticky;top:0;background:#0b0f14f2;backdrop-filter:blur(6px)}
  header#tabs a{padding:8px 12px;border-radius:10px;text-decoration:none;color:var(--fg);background:transparent;border:1px solid transparent}
  header#tabs a.active{background:#132033;border-color:var(--border)}
  main{max-width:1100px;margin:0 auto;padding:14px}
  .panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:16px}
  .hidden{display:none}
</style>
<header id="tabs">
  <a href="#chat" id="tab-chat" class="active" onclick="setTab('chat');return false;">Chat</a>
  <a href="#feed" id="tab-feed" onclick="setTab('feed');return false;">Feed</a>
</header>

<main>
  <section id="view-chat" class="panel">
    <h2>Chat</h2>
    <p>This is your chat area. (Keep using the app as normal.)</p>
  </section>

  <section id="view-feed" class="panel hidden">
    <h2 style="display:flex;justify-content:space-between;align-items:center;margin:0 0 8px 0">
      <span>Feed</span>
      <button onclick="reloadFeed()" style="background:#15263a;border:1px solid #22344a;border-radius:10px;color:var(--fg);padding:6px 10px">Refresh</button>
    </h2>
    <div id="feed_container" style="opacity:.8;padding:10px 0">Loading feed…</div>
  </section>
</main>

<script>
  function setTab(which){
    document.getElementById('tab-chat').classList.toggle('active', which==='chat');
    document.getElementById('tab-feed').classList.toggle('active', which==='feed');
    document.getElementById('view-chat').classList.toggle('hidden', which!=='chat');
    document.getElementById('view-feed').classList.toggle('hidden', which!=='feed');
    if(which==='feed'){ reloadFeed(); }
  }
  function reloadFeed(){
    const el=document.getElementById('feed_container');
    el.textContent='Loading feed…';
    // Try relative first
    fetch('feed_embed.html').then(r=>{
      if(!r.ok) throw new Error(r.status);
      return r.text();
    }).then(html=>{ el.innerHTML=html; }).catch(_=>{
      // fallback to absolute file path on Android file:// viewers
      const p='/storage/emulated/0/Download/TornadoAI/www/feed_embed.html';
      el.innerHTML='<div>Open: <a href="'+p+'">feed_embed.html</a></div>';
    });
  }
  // Initial route via hash (optional)
  if(location.hash==='#feed'){ setTab('feed'); } else { setTab('chat'); }
</script>
